# PROJECT TODO LIST

## Общее

<!-- DONE: Создать этот файл PROJECT_TODO.md и поместить в корень проекта -->
<!-- DONE: Настроить в IDE отображение TODO из этого файла (если необходимо, добавить паттерн в настройки TODO) -->

## Игровая логика & Менеджеры

<!-- DONE: Создать масштабируемую систему имен монстров -->
<!-- DONE: Интегрировать реальные данные монстров в BattleScreen. Связать EnemyGroupPanel с GameManager, чтобы панели отображали состояние объектов Character (монстров), созданных фабрикой. -->
<!-- DONE: Добавить загрузку стартовых монстров в GameManager._initialize_game_entities (или аналогичный метод), используя monster_factory. -->
<!-- DONE: Реализовать механизм обновления UI (HP/MP) в BattleScreen на основе текущего состояния объектов Player/Character. -->
<!-- DONE: Добавить в GameManager методы для управления текущими врагами (`get_current_enemies`, `set_current_enemies` и т.д.). -->
<!-- DONE: Создать JSON-файлы для классов монстров в `game/data/characters/monster_classes/`, если они еще не существуют. -->
<!-- DONE: GameManager должен отвечать за хранение и предоставление данных о текущих игроках и монстрах для экранов UI. -->
<!-- DONE: Описание задачи -->
<!-- TODO: Сделать централихованный обработчик ошибок -->
<!-- TODO: Сделать централихованный логгер -->


## Пользовательский Интерфейс

<!-- TODO: Доработать BattleScreen.render, чтобы он обновлял содержимое UnitPanel (имя, HP, MP) на основе данных из GameManager перед отрисовкой панелей. -->
<!-- TODO: Проверить/доработать логику `_update_component_sizes` в `BattleScreen` для корректного изменения размеров компонентов при ресайзе окна терминала. -->
<!-- DONE: Реализовать отображение имен монстров/игроков в UnitPanel (сейчас в EnemyUnitPanel имя передается вручную, нужно брать из объекта Character). -->
<!-- DONE: Улучшить визуал BattleScreen: корректное расположение игроков/монстров, настройка лога, порядок обрамления. -->

## Компоненты UI

<!-- TODO: Проверить корректность работы прокрутки BattleLog (scroll_up, scroll_down) и отображения большого количества сообщений. -->
<!-- TODO: Добавить отображение дополнительной информации в UnitPanel (статусные эффекты). -->
<!-- TODO: Убедиться, что отрисовка (render) всех компонентов корректно обрабатывает выход за границы экрана (curses.error). -->

## Данные

<!-- TODO: Убедиться, что все необходимые JSON-файлы (игроки, монстры) существуют и корректны. -->
<!-- TODO: Проверить/доработать character_loader.py для корректной обработки всех полей из JSON (например, abilities, если структура сложнее). -->

## Система Команд

<!-- TODO: Завершить рефакторинг системы команд (Command System) согласно ранее обсужденным идеям (регистрация, контекст). -->
<!-- TODO: Добавить команды для BattleScreen (например, выбор цели, использование атаки/зелья). -->

## Тестирование

### Конфигурация и Загрузка Данных
<!-- TODO: Написать тесты для game/config.py (загрузка, значения по умолчанию, обработка ошибок). -->
<!-- TODO: Написать тесты для game/data/character_loader.py (успешная загрузка, обработка отсутствующих файлов, некорректного JSON). -->
<!-- TODO: Написать тесты для game/naming/monster_namer.py (если используется отдельно от TemplateMonsterNamer). -->

### Основные Сущности и Фабрики
<!-- TODO: Написать тесты для фабрик в game/factories/ (PlayerFactory, MonsterFactory - корректное создание объектов из данных). -->

### Пользовательский Интерфейс (UI)
<!-- DONE: Написать тесты для game/ui/base_screen.py (общая логика экрана, обработка команд, рендеринг, если применимо). -->
<!-- TODO: Написать тесты для game/ui/main_screen.py (логика главного экрана, отрисовка, команды). -->
<!-- TODO: Написать тесты для game/ui/inventory_screen.py (логика экрана инвентаря, отрисовка, команды). -->
<!-- TODO: Написать тесты для game/ui/battle_screen.py (логика обновления данных, отрисовка компонентов, обработка команд боя). -->
<!-- TODO: Проверить и расширить тесты для компонентов UI в game/ui/widgets/ и game/ui/components/ (UnitPanel, GroupPanel, BattleLog, TextLabel, ProgressBar - граничные условия, взаимодействие, отрисовка). -->
<!-- TODO: Добавить тесты в tests/test_ui/test_command_system.py для проверки поведения абстрактного метода Command.execute (например, что он требует реализации или корректно аннотирован). -->

### Интеграционные тесты и Системные проверки
<!-- TODO: Добавить интеграционные тесты для проверки работы экранов с реальным GameManager, фабриками и рендерером (возможно, с моками curses). -->
<!-- TODO: Добавить тесты для интеграции GameManager с фабриками и UI. -->

## Документация/Кодстайл

<!-- TODO: Добавить/проверить docstrings для новых/измененных классов и методов. -->
<!-- TODO: Убедиться, что весь код соответствует PEP 8 и проходит flake8. -->

## DONE (переносить сюда выполненные задачи)

<!-- DONE: Реализовать фабрики для создания игроков и монстров. -->
<!-- DONE: Создать базовую структуру BattleScreen с компонентами (UnitPanel, GroupPanel, BattleLog). -->
<!-- DONE: Настроить базовую отрисовку BattleScreen с использованием Renderer. -->
<!-- DONE: Реализовать базовую прокрутку BattleLog. -->